<!DOCTYPE html>
<!-- saved from url=(0029)http://localhost:8000/#/table -->
<html>
<head>
	<title>Mayocat Patches</title>
	<link rel="stylesheet" type="text/css" href="../style/style.css">
</head>
<body class="">
<md-content flex="" class="md-padding page-content _md flex"><!-- uiView: --><div ui-view="" class="ng-scope"><!-- ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 1</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;" style=""><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 2</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return BigDecimal.ZERO;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 3</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 4</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return new BigDecimal(0L);</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 5</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return new BigDecimal(0);</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 6</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return new BigDecimal(0.0);</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 7</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return BigDecimal.ONE;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 8</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return BigDecimal.TEN;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 9</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 10</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 11</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 12</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 13</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 14</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 15</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 16</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 17</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 18</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 19</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 20</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 21</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 22</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 23</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 24</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 25</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 26</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = vat;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 27</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 28</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 29</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 30</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 31</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 32</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 33</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 34</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 35</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 36</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 37</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 38</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 39</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 40</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 41</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 42</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 43</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 44</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 45</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 46</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 47</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 48</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 49</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 50</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,7 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        java.math.BigDecimal perItem = carrier.getPerItem();</span>
<span class="hljs-addition">+        if (perItem == null) {</span>
<span class="hljs-addition">+            perItem = BigDecimal.ZERO;</span>
<span class="hljs-addition">+        }</span>
<span class="hljs-addition">+        price = price.add(perItem.multiply(BigDecimal.valueOf(numberOfItems)));</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 51</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 52</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 53</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 54</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 55</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,2 +155,5 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal vat = optionPrice.multiply(carrier.getVatRate());
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 56</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 57</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 58</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 59</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 60</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 61</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 62</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = vat;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 63</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 64</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 65</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 66</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 67</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 68</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 69</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 70</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 71</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 72</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 73</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 74</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 75</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 76</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 77</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 78</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 79</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 80</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,7 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        java.math.BigDecimal perItem = carrier.getPerItem();</span>
<span class="hljs-addition">+        if (perItem == null) {</span>
<span class="hljs-addition">+            perItem = new BigDecimal(0L);</span>
<span class="hljs-addition">+        }</span>
<span class="hljs-addition">+        price = price.add(perItem.multiply(BigDecimal.valueOf(numberOfItems)));</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 81</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,7 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        java.math.BigDecimal perItem = carrier.getPerItem();</span>
<span class="hljs-addition">+        if (perItem == null) {</span>
<span class="hljs-addition">+            perItem = new BigDecimal(0);</span>
<span class="hljs-addition">+        }</span>
<span class="hljs-addition">+        price = price.add(perItem.multiply(BigDecimal.valueOf(numberOfItems)));</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 82</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,7 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        java.math.BigDecimal perItem = carrier.getPerItem();</span>
<span class="hljs-addition">+        if (perItem == null) {</span>
<span class="hljs-addition">+            perItem = new BigDecimal(0.0);</span>
<span class="hljs-addition">+        }</span>
<span class="hljs-addition">+        price = price.add(perItem.multiply(BigDecimal.valueOf(numberOfItems)));</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 83</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 84</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 85</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return null;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 86</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 87</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = vat;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 88</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = vat;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 89</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = vat;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 90</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 91</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 92</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 93</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 94</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 95</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 96</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 97</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 98</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 99</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 100</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 101</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 102</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 103</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 104</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 105</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,7 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        java.math.BigDecimal perItem = carrier.getPerItem();</span>
<span class="hljs-addition">+        if (perItem == null) {</span>
<span class="hljs-addition">+            perItem = BigDecimal.ONE;</span>
<span class="hljs-addition">+        }</span>
<span class="hljs-addition">+        price = price.add(perItem.multiply(BigDecimal.valueOf(numberOfItems)));</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 106</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,7 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        java.math.BigDecimal perItem = carrier.getPerItem();</span>
<span class="hljs-addition">+        if (perItem == null) {</span>
<span class="hljs-addition">+            perItem = BigDecimal.TEN;</span>
<span class="hljs-addition">+        }</span>
<span class="hljs-addition">+        price = price.add(perItem.multiply(BigDecimal.valueOf(numberOfItems)));</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 107</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 108</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 109</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 110</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 111</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 112</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 113</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 114</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 115</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                return new ShippingOption(null, null, null);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 116</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 117</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 118</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 119</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 120</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 121</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 122</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 123</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 124</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 125</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 126</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 127</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 128</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 129</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 130</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 131</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 132</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 133</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 134</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = vat;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 135</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = vat;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 136</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = vat;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 137</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = vat;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 138</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = vat;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 139</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = vat;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 140</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 141</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 142</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,8 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 143</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 144</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 145</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 146</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 147</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 148</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 149</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 150</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 151</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 152</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 153</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 154</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 155</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 156</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 157</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 158</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 159</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 160</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ZERO;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 161</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 162</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 163</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 164</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 165</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 166</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 167</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 168</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 169</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 170</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0L);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 171</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 172</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = new BigDecimal(0.0);</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 173</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = vat;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 174</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = vat;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 175</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = vat;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 176</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 177</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 178</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 179</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 180</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.ONE;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope valid" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 181</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,3 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPrice = BigDecimal.TEN;</span>
<span class="hljs-addition">+            }</span>
             BigDecimal optionPriceIncl = optionPrice.add(vat);
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 182</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 183</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 184</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 185</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice vat</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 186</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,7 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            price = price.add( BigDecimal.ZERO.multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        } else {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 187</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ZERO</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 188</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice vat</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 189</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,7 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            price = price.add( BigDecimal.ONE.multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        } else {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 190</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,7 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            price = price.add( BigDecimal.TEN.multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        } else {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 191</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ZERO</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 192</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ONE</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 193</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.TEN</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 194</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ONE</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 195</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.TEN</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 196</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice vat</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 197</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice vat</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 198</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice vat</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 199</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ZERO</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 200</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ZERO</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 201</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ZERO</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 202</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice vat</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 203</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice vat</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 204</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice vat</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 205</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ZERO</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 206</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ZERO</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 207</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ZERO</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 208</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,7 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            price = price.add( new BigDecimal(0L).multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        } else {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 209</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,7 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            price = price.add( new BigDecimal(0).multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        } else {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 210</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,7 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            price = price.add( new BigDecimal(0.0).multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        } else {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 211</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0L)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 212</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 213</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0.0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 214</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ONE</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 215</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.TEN</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 216</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ONE</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 217</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.TEN</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 218</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ONE</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 219</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.TEN</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 220</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0L)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 221</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 222</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,11 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            if (optionPrice != null) {</span>
<span class="hljs-addition">+                BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0.0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 223</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ONE</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 224</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.TEN</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 225</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ONE</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 226</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.TEN</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 227</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ONE</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 228</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.TEN</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 229</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice vat</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 230</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice vat</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 231</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice vat</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 232</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice vat</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 233</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice vat</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 234</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice vat</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 235</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ZERO</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 236</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ZERO</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 237</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ZERO</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 238</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ZERO</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 239</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ZERO</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 240</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ZERO</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 241</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0L)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 242</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 243</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0.0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 244</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0L)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 245</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 246</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0.0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 247</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0L)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 248</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 249</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0.0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 250</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0L)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 251</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 252</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ZEROarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0.0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 253</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0L)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 254</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 255</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.ONEarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0.0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 256</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0L)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 257</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 258</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice BigDecimal.TENarrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0.0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 259</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ONE</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 260</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.TEN</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 261</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ONE</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 262</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.TEN</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 263</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ONE</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 264</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.TEN</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 265</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ONE</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 266</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.TEN</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 267</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ONE</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 268</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.TEN</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 269</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.ONE</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 270</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice BigDecimal.TEN</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 271</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0L)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 272</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 273</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0.0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 274</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0L)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 275</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 276</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0.0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 277</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0L)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 278</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 279</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0.0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,3 +37,5 @@</span>
 
<span class="hljs-deletion">-        price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        if (carrier.getPerItem() != null) {</span>
<span class="hljs-addition">+            price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));</span>
<span class="hljs-addition">+        }</span>
         return price;
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 280</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0L)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 281</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 282</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0L)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0.0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 283</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0L)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 284</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 285</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0.0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 286</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0L)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 287</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --><section layout-margin="" class="execution md-whiteframe-z1 panel-widget layout-margin ng-scope" ng-class="{valid: execution.result.success}" ng-repeat="execution in vm.tableData.executions | orderBy:&#39;perplexity&#39;"><md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar _md md-custom-theme _md-toolbar-transitions"><div class="md-toolbar-tools"><h3 class="panel-widget-tittle ng-binding">Execution 288</h3><span flex="" class="flex"></span></div></md-toolbar><md-content layout="row" layout-align="left center" class="_md layout-align-start-center layout-row"><pre hljs="" hljs-source="execution.diff" hljs-language="diff"><pre><code class="hljs diff"><span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/DefaultShippingService.java</span>
<span class="hljs-chunk">@@ -155,4 +155,14 @@</span>
             BigDecimal optionPrice = priceCalculator.getPrice(carrier, items);
<span class="hljs-deletion">-            BigDecimal vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-deletion">-            BigDecimal optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            BigDecimal vat;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                vat = optionPrice new BigDecimal(0.0)arrier.getVatRate());</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                vat = optionPrice.multiply(carrier.getVatRate());</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+            BigDecimal optionPriceIncl;</span>
<span class="hljs-addition">+            if (optionPrice == null) {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice new BigDecimal(0.0)</span>
<span class="hljs-addition">+            } else {</span>
<span class="hljs-addition">+                optionPriceIncl = optionPrice.add(vat);</span>
<span class="hljs-addition">+            }</span>
 
<span class="hljs-header">--- internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-header">+++ internal/src/main/java/org/mayocat/shop/shipping/strategy/FlatStrategyPriceCalculator.java</span>
<span class="hljs-chunk">@@ -37,2 +37,5 @@</span>
 
<span class="hljs-addition">+        if (carrier.getPerItem() == null) {</span>
<span class="hljs-addition">+            return null;</span>
<span class="hljs-addition">+        }</span>
         price = price.add(carrier.getPerItem().multiply(BigDecimal.valueOf(numberOfItems)));
</code></pre></pre></md-content></section><!-- end ngRepeat: execution in vm.tableData.executions | orderBy:'perplexity' --></div></md-content><
</body>
</html>